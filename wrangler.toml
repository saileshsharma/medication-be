# Cloudflare Workers Configuration
# Run 'wrangler deploy' to deploy your Worker

name = "pixel-pirates-backend"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Account details (fill these in after running wrangler login)
# account_id = "your-account-id"

# Workers configuration
workers_dev = true

# D1 Database binding
# Run: wrangler d1 create pixel-pirates-db
# Then paste the database_id here
[[d1_databases]]
binding = "DB"
database_name = "pixel-pirates-db"
database_id = "72f1ba25-5227-433c-8f9c-bd3d8493bbc7"

# KV Namespace for caching
# Run: wrangler kv:namespace create "CACHE"
# Run: wrangler kv:namespace create "CACHE" --preview
# Then paste both IDs here
[[kv_namespaces]]
binding = "CACHE"
id = "189f76cae98e48e9964af1954e7b7b27"
preview_id = "380d32fbbf854643ba1f69593d306ede"

# Environment Variables (non-secret)
[vars]
ENVIRONMENT = "production"
DEBUG = "false"
APP_NAME = "Pixel Pirates API"
APP_VERSION = "1.0.0"

# Secrets (set these with: wrangler secret put SECRET_NAME)
# - JWT_SECRET
# - OPENAI_API_KEY
# - API_KEY
# Run: wrangler secret put JWT_SECRET
# Run: wrangler secret put OPENAI_API_KEY

# Routes and custom domains (uncomment after setting up custom domain)
# routes = [
#   { pattern = "api.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]

# Compatibility flags
compatibility_flags = []

# Development configuration
[dev]
port = 8787
local_protocol = "http"
